<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.6703f8420">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="GraphQL Tools Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="GraphQL Tools Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="GraphQL Tools" href="/opensearch.xml">
<script src="https://the-guild.dev/static/banner.js" async defer="defer"></script><title data-react-helmet="true">Extending stitched schemas | GraphQL Tools</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Extending stitched schemas | GraphQL Tools"><meta data-react-helmet="true" name="description" content="Schema extensions add gateway-level type definitions and resolvers into a combined API, which is useful for establishing connections between types that exist in separate subschemas."><meta data-react-helmet="true" property="og:description" content="Schema extensions add gateway-level type definitions and resolvers into a combined API, which is useful for establishing connections between types that exist in separate subschemas."><meta data-react-helmet="true" property="og:url" content="https://graphql-tools.com/docs/stitch-schema-extensions"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://graphql-tools.com/docs/stitch-schema-extensions"><link rel="stylesheet" href="/styles.7287a2aa.css">
<link rel="preload" href="/styles.487b9085.js" as="script">
<link rel="preload" href="/runtime~main.312edae1.js" as="script">
<link rel="preload" href="/main.71a0fa8c.js" as="script">
<link rel="preload" href="/1.8fb90e8d.js" as="script">
<link rel="preload" href="/2.4d97a7a8.js" as="script">
<link rel="preload" href="/480.0da5e48e.js" as="script">
<link rel="preload" href="/483.615c3160.js" as="script">
<link rel="preload" href="/935f2afb.e42a0ee6.js" as="script">
<link rel="preload" href="/17896441.0e8a4fd3.js" as="script">
<link rel="preload" href="/0b8dc1ff.340c8c7f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_3aLp">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="GraphQL Tools Logo" class="themedImage_phiS themedImage--light_VJaY navbar__logo"><img src="/img/logo.png" alt="GraphQL Tools Logo" class="themedImage_phiS themedImage--dark_1NF3 navbar__logo"></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/introduction">API &amp; Documentation</a><a href="https://github.com/ardatan/graphql-tools" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a href="https://the-guild.dev/contact" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Contact Us</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_Bh6k"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_1UDy">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_1UDy">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><div class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></div></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="GraphQL Tools Logo" class="themedImage_phiS themedImage--light_VJaY navbar__logo"><img src="/img/logo.png" alt="GraphQL Tools Logo" class="themedImage_phiS themedImage--dark_1NF3 navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/introduction">API &amp; Documentation</a></li><li class="menu__list-item"><a href="https://github.com/ardatan/graphql-tools" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a href="https://the-guild.dev/contact" target="_blank" rel="noopener noreferrer" class="menu__link">Contact Us</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1mVJ"><div class="docSidebarContainer_uPTz" role="complementary"><div class="sidebar_M-Lc"><div class="menu menu--responsive thin-scrollbar menu_tgpy"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1e05" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generate-schema">Executable schemas</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/resolvers">Resolvers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/resolvers-composition">Resolvers composition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/scalars">Custom scalars and enums</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mocking">Mocking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/connectors">Data fetching</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/schema-directives">Schema directives</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/directive-resolvers">Directive resolvers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/schema-delegation">Schema delegation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/remote-schemas">Remote schemas</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/schema-wrapping">Schema wrapping</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/schema-merging">Schema merging</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Schema stitching</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stitch-combining-schemas">Combining schemas</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stitch-type-merging">Type merging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stitch-directives-sdl">Directives SDL</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/stitch-schema-extensions">Schema extensions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stitch-api">Stitching API</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/server-setup">Setup an HTTP server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/schema-loading">Schema loading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/documents-loading">Documents loading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphql-tag-pluck">GraphQL Tag Pluck</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/relay-operation-optimizer">Relay Operation Optimizer</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Migration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/migration-from-tools">From tools v4 - v6</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/migration-from-toolkit">From GraphQL Toolkit</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/migration-from-merge-graphql-schemas">From Merge GraphQL Schemas</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/migration-from-import">From GraphQL Import</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API Reference</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Modules</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/batch-delegate">batch-delegate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/batch-execute">batch-execute</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/delegate">delegate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/graphql-tag-pluck">graphql-tag-pluck</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/graphql-tools">graphql-tools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/import">import</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/links">links</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/load">load</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/load-files">load-files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/merge">merge</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/mock">mock</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/node-require">node-require</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/optimize">optimize</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/relay-operation-optimizer">relay-operation-optimizer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/resolvers-composition">resolvers-composition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/schema">schema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/stitch">stitch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/stitching-directives">stitching-directives</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/utils">utils</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/webpack-loader">webpack-loader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/webpack-loader-runtime">webpack-loader-runtime</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/wrap">wrap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/apollo-engine-loader">apollo-engine-loader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/code-file-loader">code-file-loader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/git-loader">git-loader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/github-loader">github-loader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/graphql-file-loader">graphql-file-loader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/json-file-loader">json-file-loader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/module-loader">module-loader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/prisma-loader">prisma-loader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/modules/url-loader">url-loader</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Classes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_delegate_src_transforms_addargumentsasvariables_.addargumentsasvariables">_packages_delegate_src_transforms_addargumentsasvariables_.addargumentsasvariables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_delegate_src_transforms_addselectionsets_.addselectionsets">_packages_delegate_src_transforms_addselectionsets_.addselectionsets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_delegate_src_transforms_addtypenametoabstract_.addtypenametoabstract">_packages_delegate_src_transforms_addtypenametoabstract_.addtypenametoabstract</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_loaders_apollo_engine_src_index_.apolloengineloader">_packages_loaders_apollo_engine_src_index_.apolloengineloader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_links_src_awaitvariableslink_.awaitvariableslink">_packages_links_src_awaitvariableslink_.awaitvariableslink</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_delegate_src_transforms_checkresultandhandleerrors_.checkresultandhandleerrors">_packages_delegate_src_transforms_checkresultandhandleerrors_.checkresultandhandleerrors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_loaders_prisma_src_prisma_yml_cluster_.cluster">_packages_loaders_prisma_src_prisma_yml_cluster_.cluster</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_loaders_prisma_src_prisma_yml_errors_clusternotfound_.clusternotfound">_packages_loaders_prisma_src_prisma_yml_errors_clusternotfound_.clusternotfound</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_loaders_prisma_src_prisma_yml_errors_clusternotset_.clusternotset">_packages_loaders_prisma_src_prisma_yml_errors_clusternotset_.clusternotset</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_loaders_code_file_src_index_.codefileloader">_packages_loaders_code_file_src_index_.codefileloader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_loaders_prisma_src_prisma_yml_environment_.environment">_packages_loaders_prisma_src_prisma_yml_environment_.environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_delegate_src_transforms_expandabstracttypes_.expandabstracttypes">_packages_delegate_src_transforms_expandabstracttypes_.expandabstracttypes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_extractfield_.extractfield">_packages_wrap_src_transforms_extractfield_.extractfield</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_filterinputobjectfields_.filterinputobjectfields">_packages_wrap_src_transforms_filterinputobjectfields_.filterinputobjectfields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_filterinterfacefields_.filterinterfacefields">_packages_wrap_src_transforms_filterinterfacefields_.filterinterfacefields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_filterobjectfielddirectives_.filterobjectfielddirectives">_packages_wrap_src_transforms_filterobjectfielddirectives_.filterobjectfielddirectives</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_filterobjectfields_.filterobjectfields">_packages_wrap_src_transforms_filterobjectfields_.filterobjectfields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_filterrootfields_.filterrootfields">_packages_wrap_src_transforms_filterrootfields_.filterrootfields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_delegate_src_transforms_filtertoschema_.filtertoschema">_packages_delegate_src_transforms_filtertoschema_.filtertoschema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_filtertypes_.filtertypes">_packages_wrap_src_transforms_filtertypes_.filtertypes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_links_src_createserverhttplink_.formdatawithstreamsupport">_packages_links_src_createserverhttplink_.formdatawithstreamsupport</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_loaders_url_src_formdatawithstreamsupport_.formdatawithstreamsupport">_packages_loaders_url_src_formdatawithstreamsupport_.formdatawithstreamsupport</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_loaders_github_src_index_.githubloader">_packages_loaders_github_src_index_.githubloader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_loaders_git_src_index_.gitloader">_packages_loaders_git_src_index_.gitloader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_loaders_graphql_file_src_index_.graphqlfileloader">_packages_loaders_graphql_file_src_index_.graphqlfileloader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_hoistfield_.hoistfield">_packages_wrap_src_transforms_hoistfield_.hoistfield</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_loaders_json_file_src_index_.jsonfileloader">_packages_loaders_json_file_src_index_.jsonfileloader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_mapfields_.mapfields">_packages_wrap_src_transforms_mapfields_.mapfields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_mapleafvalues_.mapleafvalues">_packages_wrap_src_transforms_mapleafvalues_.mapleafvalues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_mock_src_mocking_.mocklist">_packages_mock_src_mocking_.mocklist</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_loaders_module_src_index_.moduleloader">_packages_loaders_module_src_index_.moduleloader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_loaders_prisma_src_prisma_yml_output_.output">_packages_loaders_prisma_src_prisma_yml_output_.output</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_loaders_prisma_src_prisma_yml_prismadefinition_.prismadefinitionclass">_packages_loaders_prisma_src_prisma_yml_prismadefinition_.prismadefinitionclass</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_loaders_prisma_src_index_.prismaloader">_packages_loaders_prisma_src_index_.prismaloader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_pruneschema_.prunetypes">_packages_wrap_src_transforms_pruneschema_.prunetypes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_removeobjectfielddeprecations_.removeobjectfielddeprecations">_packages_wrap_src_transforms_removeobjectfielddeprecations_.removeobjectfielddeprecations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_removeobjectfielddirectives_.removeobjectfielddirectives">_packages_wrap_src_transforms_removeobjectfielddirectives_.removeobjectfielddirectives</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_removeobjectfieldswithdeprecation_.removeobjectfieldswithdeprecation">_packages_wrap_src_transforms_removeobjectfieldswithdeprecation_.removeobjectfieldswithdeprecation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_removeobjectfieldswithdirective_.removeobjectfieldswithdirective">_packages_wrap_src_transforms_removeobjectfieldswithdirective_.removeobjectfieldswithdirective</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_renameinputobjectfields_.renameinputobjectfields">_packages_wrap_src_transforms_renameinputobjectfields_.renameinputobjectfields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_renameinterfacefields_.renameinterfacefields">_packages_wrap_src_transforms_renameinterfacefields_.renameinterfacefields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_renameobjectfields_.renameobjectfields">_packages_wrap_src_transforms_renameobjectfields_.renameobjectfields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_renamerootfields_.renamerootfields">_packages_wrap_src_transforms_renamerootfields_.renamerootfields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_renameroottypes_.renameroottypes">_packages_wrap_src_transforms_renameroottypes_.renameroottypes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_renametypes_.renametypes">_packages_wrap_src_transforms_renametypes_.renametypes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_utils_src_schemadirectivevisitor_.schemadirectivevisitor">_packages_utils_src_schemadirectivevisitor_.schemadirectivevisitor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_utils_src_schemavisitor_.schemavisitor">_packages_utils_src_schemavisitor_.schemavisitor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_loaders_prisma_src_prisma_yml_errors_stagenotfound_.stagenotfound">_packages_loaders_prisma_src_prisma_yml_errors_stagenotfound_.stagenotfound</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_delegate_src_subschema_.subschema">_packages_delegate_src_subschema_.subschema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_loaders_prisma_src_prisma_yml_output_.testoutput">_packages_loaders_prisma_src_prisma_yml_output_.testoutput</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_transformcompositefields_.transformcompositefields">_packages_wrap_src_transforms_transformcompositefields_.transformcompositefields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_transformenumvalues_.transformenumvalues">_packages_wrap_src_transforms_transformenumvalues_.transformenumvalues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_delegate_src_transformer_.transformer">_packages_delegate_src_transformer_.transformer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_transforminputobjectfields_.transforminputobjectfields">_packages_wrap_src_transforms_transforminputobjectfields_.transforminputobjectfields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_transforminterfacefields_.transforminterfacefields">_packages_wrap_src_transforms_transforminterfacefields_.transforminterfacefields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_transformobjectfields_.transformobjectfields">_packages_wrap_src_transforms_transformobjectfields_.transformobjectfields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_transformquery_.transformquery">_packages_wrap_src_transforms_transformquery_.transformquery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_transformrootfields_.transformrootfields">_packages_wrap_src_transforms_transformrootfields_.transformrootfields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_loaders_url_src_index_.urlloader">_packages_loaders_url_src_index_.urlloader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_loaders_prisma_src_prisma_yml_variables_.variables">_packages_loaders_prisma_src_prisma_yml_variables_.variables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_delegate_src_transforms_visitselectionsets_.visitselectionsets">_packages_delegate_src_transforms_visitselectionsets_.visitselectionsets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_delegate_src_transforms_wrapconcretetypes_.wrapconcretetypes">_packages_delegate_src_transforms_wrapconcretetypes_.wrapconcretetypes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_wrapfields_.wrapfields">_packages_wrap_src_transforms_wrapfields_.wrapfields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_wrapquery_.wrapquery">_packages_wrap_src_transforms_wrapquery_.wrapquery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/classes/_packages_wrap_src_transforms_wraptype_.wraptype">_packages_wrap_src_transforms_wraptype_.wraptype</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Interfaces</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_apollo_engine_src_index_.apolloengineoptions">_packages_loaders_apollo_engine_src_index_.apolloengineoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_links_src_createserverhttplink_.formdatawithstreamsupport.appendoptions">_packages_links_src_createserverhttplink_.formdatawithstreamsupport.appendoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_url_src_formdatawithstreamsupport_.formdatawithstreamsupport.appendoptions">_packages_loaders_url_src_formdatawithstreamsupport_.formdatawithstreamsupport.appendoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_prisma_src_prisma_yml_types_common_.args">_packages_loaders_prisma_src_prisma_yml_types_common_.args</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_batch_delegate_src_types_.batchdelegateoptions">_packages_batch_delegate_src_types_.batchdelegateoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_delegate_src_types_.batchingoptions">_packages_delegate_src_types_.batchingoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_prisma_src_prisma_yml_types_rc_.clusterconfig">_packages_loaders_prisma_src_prisma_yml_types_rc_.clusterconfig</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_prisma_src_prisma_yml_types_rc_.clusters">_packages_loaders_prisma_src_prisma_yml_types_rc_.clusters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_merge_src_typedefs_mergers_merge_typedefs_.config">_packages_merge_src_typedefs_mergers_merge_typedefs_.config</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_batch_delegate_src_types_.createbatchdelegatefnoptions">_packages_batch_delegate_src_types_.createbatchdelegatefnoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_delegate_src_types_.delegationcontext">_packages_delegate_src_types_.delegationcontext</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_prisma_src_prisma_yml_prismadefinition_.envvars">_packages_loaders_prisma_src_prisma_yml_prismadefinition_.envvars</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_visitresult_.errorinfo">_packages_utils_src_visitresult_.errorinfo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_batch_execute_src_types_.executionparams">_packages_batch_execute_src_types_.executionparams</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_delegate_src_types_.executionparams">_packages_delegate_src_types_.executionparams</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_interfaces_.executionresult">_packages_utils_src_interfaces_.executionresult</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_stitching_directives_src_types_.expansion">_packages_stitching_directives_src_types_.expansion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_delegate_src_types_.externalobject">_packages_delegate_src_types_.externalobject</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_prisma_src_prisma_yml_prisma_json_schema_.functionhandlerwebhookwithheaders">_packages_loaders_prisma_src_prisma_yml_prisma_json_schema_.functionhandlerwebhookwithheaders</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_prisma_src_prisma_yml_types_rc_.functioninput">_packages_loaders_prisma_src_prisma_yml_types_rc_.functioninput</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_prisma_src_prisma_yml_prisma_json_schema_.generate">_packages_loaders_prisma_src_prisma_yml_prisma_json_schema_.generate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_github_src_index_.githubloaderoptions">_packages_loaders_github_src_index_.githubloaderoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_interfaces_.graphqlexecutioncontext">_packages_utils_src_interfaces_.graphqlexecutioncontext</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_graphql_file_src_index_.graphqlfileloaderoptions">_packages_loaders_graphql_file_src_index_.graphqlfileloaderoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_interfaces_.graphqlparseoptions">_packages_utils_src_interfaces_.graphqlparseoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_graphql_tag_pluck_src_index_.graphqltagpluckoptions">_packages_graphql_tag_pluck_src_index_.graphqltagpluckoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_prisma_src_prisma_yml_types_rc_.header">_packages_loaders_prisma_src_prisma_yml_types_rc_.header</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_links_src_createserverhttplink_.formdatawithstreamsupport.headers">_packages_links_src_createserverhttplink_.formdatawithstreamsupport.headers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_prisma_src_prisma_yml_prisma_json_schema_.headers">_packages_loaders_prisma_src_prisma_yml_prisma_json_schema_.headers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_url_src_formdatawithstreamsupport_.formdatawithstreamsupport.headers">_packages_loaders_url_src_formdatawithstreamsupport_.formdatawithstreamsupport.headers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_interfaces_.iaddresolverstoschemaoptions">_packages_utils_src_interfaces_.iaddresolverstoschemaoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_delegate_src_types_.icreateproxyingresolveroptions">_packages_delegate_src_types_.icreateproxyingresolveroptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_delegate_src_types_.icreaterequest">_packages_delegate_src_types_.icreaterequest</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_delegate_src_types_.icreaterequestfrominfo">_packages_delegate_src_types_.icreaterequestfrominfo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_delegate_src_types_.idelegaterequestoptions">_packages_delegate_src_types_.idelegaterequestoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_delegate_src_types_.idelegatetoschemaoptions">_packages_delegate_src_types_.idelegatetoschemaoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_interfaces_.idirectiveresolvers">_packages_utils_src_interfaces_.idirectiveresolvers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_schema_src_types_.iexecutableschemadefinition">_packages_schema_src_types_.iexecutableschemadefinition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_stitch_src_types_._utils_.ifieldresolveroptions">_packages_stitch_src_types_._utils_.ifieldresolveroptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_interfaces_.ifieldresolveroptions">_packages_utils_src_interfaces_.ifieldresolveroptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_schema_src_types_.ilogger">_packages_schema_src_types_.ilogger</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_wrap_src_types_.imakeremoteexecutableschemaoptions">_packages_wrap_src_types_.imakeremoteexecutableschemaoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_mock_src_types_.imockoptions">_packages_mock_src_types_.imockoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_mock_src_types_.imocks">_packages_mock_src_types_.imocks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_mock_src_types_.imockserver">_packages_mock_src_types_.imockserver</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_prisma_src_prisma_yml_output_.ioutput">_packages_loaders_prisma_src_prisma_yml_output_.ioutput</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_interfaces_.iresolvervalidationoptions">_packages_utils_src_interfaces_.iresolvervalidationoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_stitch_src_types_.istitchschemasoptions">_packages_stitch_src_types_.istitchschemasoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_delegate_src_subschema_.isubschema">_packages_delegate_src_subschema_.isubschema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_json_file_src_index_.jsonfileloaderoptions">_packages_loaders_json_file_src_index_.jsonfileloaderoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_stitching_directives_src_types_.keydeclaration">_packages_stitching_directives_src_types_.keydeclaration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_validate_documents_.loaddocumenterror">_packages_utils_src_validate_documents_.loaddocumenterror</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_loaders_.loader">_packages_utils_src_loaders_.loader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_load_files_src_index_.loadfilesoptions">_packages_load_files_src_index_.loadfilesoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_url_src_index_.loadfromurloptions">_packages_loaders_url_src_index_.loadfromurloptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_wrap_src_transforms_mapleafvalues_.mapleafvaluestransformationcontext">_packages_wrap_src_transforms_mapleafvalues_.mapleafvaluestransformationcontext</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_delegate_src_types_.mergedfieldconfig">_packages_delegate_src_types_.mergedfieldconfig</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_delegate_src_types_.mergedtypeconfig">_packages_delegate_src_types_.mergedtypeconfig</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_delegate_src_types_.mergedtypeinfo">_packages_delegate_src_types_.mergedtypeinfo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_stitch_src_types_.mergedtypeinfo">_packages_stitch_src_types_.mergedtypeinfo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_stitching_directives_src_types_.mergedtyperesolverinfo">_packages_stitching_directives_src_types_.mergedtyperesolverinfo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_delegate_src_types_.mergedtyperesolveroptions">_packages_delegate_src_types_.mergedtyperesolveroptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_stitch_src_types_.mergefieldconfigcandidate">_packages_stitch_src_types_.mergefieldconfigcandidate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_stitch_src_types_.mergeinputfieldconfigcandidate">_packages_stitch_src_types_.mergeinputfieldconfigcandidate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_merge_src_merge_resolvers_.mergeresolversoptions">_packages_merge_src_merge_resolvers_.mergeresolversoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_merge_src_merge_schemas_.mergeschemasconfig">_packages_merge_src_merge_schemas_.mergeschemasconfig</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_stitch_src_types_.mergetypecandidate">_packages_stitch_src_types_.mergetypecandidate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_observabletoasynciterable_.observable">_packages_utils_src_observabletoasynciterable_.observable</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_observabletoasynciterable_.observer">_packages_utils_src_observabletoasynciterable_.observer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_get_fields_with_directives_.options">_packages_utils_src_get_fields_with_directives_.options</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_webpack_loader_src_index_.options">_packages_webpack_loader_src_index_.options</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_stitching_directives_src_types_.parsedmergeargsexpr">_packages_stitching_directives_src_types_.parsedmergeargsexpr</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_prisma_src_prisma_yml_utils_parseendpoint_.parseendpointresult">_packages_loaders_prisma_src_prisma_yml_utils_parseendpoint_.parseendpointresult</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_stitching_directives_src_expandunqualifiedkeys_.preparsedmergeargsexpr">_packages_stitching_directives_src_expandunqualifiedkeys_.preparsedmergeargsexpr</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_stitching_directives_src_parsemergeargsexpr_.preparsedmergeargsexpr">_packages_stitching_directives_src_parsemergeargsexpr_.preparsedmergeargsexpr</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_stitching_directives_src_pathsfromselectionsets_.preparsedmergeargsexpr">_packages_stitching_directives_src_pathsfromselectionsets_.preparsedmergeargsexpr</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_stitching_directives_src_preparsemergeargsexpr_.preparsedmergeargsexpr">_packages_stitching_directives_src_preparsemergeargsexpr_.preparsedmergeargsexpr</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_prisma_src_prisma_yml_prisma_json_schema_.prismadefinition">_packages_loaders_prisma_src_prisma_yml_prisma_json_schema_.prismadefinition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_prisma_src_index_.prismaloaderoptions">_packages_loaders_prisma_src_index_.prismaloaderoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_stitching_directives_src_types_.propertytree">_packages_stitching_directives_src_types_.propertytree</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_types_.pruneschemaoptions">_packages_utils_src_types_.pruneschemaoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_prune_.pruningcontext">_packages_utils_src_prune_.pruningcontext</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_prisma_src_prisma_yml_types_rc_.rc">_packages_loaders_prisma_src_prisma_yml_types_rc_.rc</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_interfaces_.request">_packages_utils_src_interfaces_.request</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_interfaces_.schemamapper">_packages_utils_src_interfaces_.schemamapper</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_types_.schemaprintoptions">_packages_utils_src_types_.schemaprintoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_interfaces_.schemavisitormap">_packages_utils_src_interfaces_.schemavisitormap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_prisma_src_prisma_yml_prisma_json_schema_.seed">_packages_loaders_prisma_src_prisma_yml_prisma_json_schema_.seed</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_visitresult_.segmentinfo">_packages_utils_src_visitresult_.segmentinfo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_visitresult_.sortederrors">_packages_utils_src_visitresult_.sortederrors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_utils_src_loaders_.source">_packages_utils_src_loaders_.source</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_stitching_directives_src_types_.stitchingdirectivesoptions">_packages_stitching_directives_src_types_.stitchingdirectivesoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_delegate_src_types_.stitchinginfo">_packages_delegate_src_types_.stitchinginfo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_stitch_src_types_.stitchinginfo">_packages_stitch_src_types_.stitchinginfo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_links_src_createserverhttplink_.formdatawithstreamsupport.submitoptions">_packages_links_src_createserverhttplink_.formdatawithstreamsupport.submitoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_url_src_formdatawithstreamsupport_.formdatawithstreamsupport.submitoptions">_packages_loaders_url_src_formdatawithstreamsupport_.formdatawithstreamsupport.submitoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_delegate_src_types_.subschemaconfig">_packages_delegate_src_types_.subschemaconfig</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_prisma_src_prisma_yml_prisma_json_schema_.subscriptiondefinition">_packages_loaders_prisma_src_prisma_yml_prisma_json_schema_.subscriptiondefinition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_loaders_prisma_src_prisma_yml_prisma_json_schema_.subscriptionmap">_packages_loaders_prisma_src_prisma_yml_prisma_json_schema_.subscriptionmap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_delegate_src_types_.transform">_packages_delegate_src_types_.transform</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_delegate_src_transformer_.transformation">_packages_delegate_src_transformer_.transformation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_stitch_src_types_.typemergingoptions">_packages_stitch_src_types_.typemergingoptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/interfaces/_packages_wrap_src_transforms_wrapfields_.wrapfieldstransformationcontext">_packages_wrap_src_transforms_wrapfields_.wrapfieldstransformationcontext</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Enums</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/enums/_packages_utils_src_interfaces_.mapperkind">_packages_utils_src_interfaces_.mapperkind</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/enums/_packages_utils_src_interfaces_.visitschemakind">_packages_utils_src_interfaces_.visitschemakind</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_1zi2"><div class="container padding-vert--lg docItemWrapper_1hMI"><div class="row"><div class="col docItemCol_3Kj2"><div class="docItemContainer_Ux4c"><article><header><h1 class="docTitle_2llR">Extending stitched schemas</h1></header><div class="markdown"><p>Schema extensions add gateway-level type definitions and resolvers into a combined API, which is useful for establishing connections between types that exist in separate subschemas.</p><p>When considering these capabilities, be sure to compare them with the newer automated features available through <a href="/docs/stitch-type-merging">type merging</a>. While type merging frequently eliminates the need for schema extensions, it does not preclude their use.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="basic-example"></a>Basic example<a class="hash-link" href="#basic-example" title="Direct link to heading">#</a></h2><p>Going back to the posts and users service example:</p><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-js codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> makeExecutableSchema </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@graphql-tools/schema&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> addMocksToSchema </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@graphql-tools/mock&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> postSchema </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">makeExecutableSchema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  typeDefs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    type Post {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      id: ID!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      text: String</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      userId: ID!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="display:inline-block;color:rgb(195, 232, 141)">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    type Query {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      postById(id: ID!): Post</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      postsByUserId(userId: ID!): [Post!]!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">  </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> userSchema </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">makeExecutableSchema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  typeDefs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    type User {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      id: ID!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      email: String</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="display:inline-block;color:rgb(195, 232, 141)">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    type Query {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      userById(id: ID!): User</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">  </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// just mock the schemas for now to make them return dummy data</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">postSchema </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">addMocksToSchema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> postSchema </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">userSchema </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">addMocksToSchema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> userSchema </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// setup subschema config objects</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> postsSubschema </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> postSchema </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> usersSubschema </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> userSchema </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><p>We may want to navigate from a particular user to their posts, or from a post to its user. This is possible within our service architecture by connecting an existing key of each object to a corresponding root query:</p><ul><li><code>Post.userId -&gt; userById(id)</code> gets a Post&#x27;s user.</li><li><code>User.id -&gt; postsByUserId(userId)</code> gets a User&#x27;s posts.</li></ul><p>To formalize this navigation within our gateway schema, we can <em>extend</em> each type with a new field that will translate its respective key into an actual object association:</p><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-js codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> stitchSchemas </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@graphql-tools/stitch&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> schema </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">stitchSchemas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  subschemas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    postsSubschema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    usersSubschema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  typeDefs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    extend type Post {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      user: User!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    extend type User {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      posts: [Post!]!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">  </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><p>The <code>typeDefs</code> option provides type extentions (using the <code>extend</code> keyword) that add additional fields into the <em>combined</em> gateway schema, and therefore may cross-reference types from any subschema.</p><p>However, these extensions alone won&#x27;t do anything until they have corresponding resolvers. A complete example would look like this:</p><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-js codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> stitchSchemas </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@graphql-tools/stitch&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> delegateToSchema </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@graphql-tools/delegate&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> schema </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">stitchSchemas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  subschemas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    postsSubschema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    usersSubschema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  typeDefs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    extend type Post {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      user: User!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    extend type User {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      posts: [Post!]!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">  </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  resolvers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      posts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        selectionSet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">{ id }</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">resolve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">user</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> args</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> context</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">delegateToSchema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> postsSubschema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            operation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;query&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            fieldName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;postsByUserId&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> userId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">id</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">Post</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        selectionSet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">{ userId }</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">resolve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">post</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> args</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> context</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">delegateToSchema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> usersSubschema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            operation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;query&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            fieldName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;userById&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> post</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">userId</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><p>When resolving <code>User.posts</code> and <code>Post.user</code>, we <em>delegate</em> each key reference to its corresponding root query. Note that the structure of stitching resolvers has a <code>selectionSet</code> property and a <code>resolve</code> method.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="selectionset"></a>selectionSet<a class="hash-link" href="#selectionset" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-js codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token maybe-class-name">Post</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    selectionSet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">{ userId }</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ... resolve</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><p>The <code>selectionSet</code> specifies the key field(s) needed from an object to query for its associations. For example, <code>Post.user</code> will require that a Post provide its <code>userId</code>. Rather than relying on incoming queries to manually request this key for the association, the selection set will automatically be included in subschema requests to guarentee that these fields are fetched. Dynamic selection sets are also possible by providing a function that recieves a GraphQL <code>FieldNode</code> (the gateway field) and returns a <code>SelectionSetNode</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="resolve"></a>resolve<a class="hash-link" href="#resolve" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-js codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token maybe-class-name">Post</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ... selectionSet</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">resolve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">post</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> args</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> context</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">delegateToSchema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> usersSubschema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        operation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;query&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        fieldName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;userById&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> post</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">userId</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><p>Resolvers use the <code>delegateToSchema</code> function to forward parts of queries (or even whole new queries) to any other schemaâ€”inside <em>or outside</em> of the stitched schema. When delegating to a stitched subschema, always provide the complete <a href="/docs/stitch-combining-schemas#subschema-configs">subschema config</a> object as the <code>schema</code> option.</p><p>By default, <code>delegateToSchema</code> assumes that the delegated operation will return the same GraphQL type as the resolved field (ex: a <code>User</code> field would delegate to a <code>User</code> query). If this is not the case, then you should manually provide a <code>returnType</code> option citing the expected GraphQL return type, and transform the result accordingly in the resolver.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="batch-delegation"></a>Batch delegation<a class="hash-link" href="#batch-delegation" title="Direct link to heading">#</a></h2><p>The drawback of performing individual <code>delegateToSchema</code> calls is that they can be fairly inefficient. Say we request <code>Post.user</code> from an array of ten postsâ€”that would delegate ten individual <code>userById</code> queries while resolving each user! To improve this, we can instead delegate in <em>batches</em>, where many instances of a field resolver are consolidated into one delegation.</p><p>To setup batching, the first thing we&#x27;ll need is a new query in the users service that allows fetching many users at once:</p><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-graphql codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token attr-name" style="color:rgb(255, 203, 107)">usersByIds</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attr-name" style="color:rgb(255, 203, 107)">ids</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ID</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><p>With this many-users query available, we can now delegate the <code>Post.user</code> field in batches across many records:</p><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-js codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> batchDelegateToSchema </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@graphql-tools/batch-delegate&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> schema </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">stitchSchemas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  subschemas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    postsSubschema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    usersSubschema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  typeDefs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    extend type Post {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      user: User!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">  </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  resolvers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">Post</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        selectionSet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">{ userId }</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">resolve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">post</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> _args</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> context</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">batchDelegateToSchema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> usersSubschema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            operation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;query&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            fieldName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;usersByIds&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> post</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">userId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">argsFromKeys</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">ids</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> ids </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><p>Internally, <code>batchDelegateToSchema</code> wraps a single <code>delegateToSchema</code> call in a <a href="https://www.npmjs.com/package/dataloader" target="_blank" rel="noopener noreferrer">DataLoader</a> scoped by context, field, arguments, and query selection. It assumes that the delegated operation will return an array of objects matching the gateway field&#x27;s named GraphQL type (ex: a <code>User</code> field delegates to a <code>[User]</code> query). If this is not the case, then you should manually provide a <code>returnType</code> option citing the expected GraphQL return type.</p><p>Batch delegation is generally preferable over plain delegation because it eliminates the redundancy of requesting the same field across an array of parent objects. Even so, delegation costs can add up because there is still one subschema request made <em>per batched field</em>â€”for remote services, this may create many network requests sent to the same service. Consider enabling an additional layer of network-level batching with a package such as <a href="https://www.apollographql.com/docs/link/links/batch-http/" target="_blank" rel="noopener noreferrer">apollo-link-batch-http</a> to consolidate requests per subschema.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="passing-gateway-arguments"></a>Passing gateway arguments<a class="hash-link" href="#passing-gateway-arguments" title="Direct link to heading">#</a></h2><p>Exhaustive accessors like <code>User.posts</code> do not scale well (...what happens when a user has tens of thousands of posts?), so the gateway should probably accept scoping arguments and pass them through to the underlying subschemas. Let&#x27;s add a <code>pageNumber</code> argument to the <code>User.posts</code> schema extension:</p><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-graphql codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">extend </span><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">User</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token attr-name" style="color:rgb(255, 203, 107)">posts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attr-name" style="color:rgb(255, 203, 107)">pageNumber</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Int</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Post</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><p>This argument only exists in the gateway schema and won&#x27;t do anything until passed through to subschemas. How we pass this input through depends on which subservice owns the association data...</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="via-delegation"></a>Via delegation<a class="hash-link" href="#via-delegation" title="Direct link to heading">#</a></h3><p>First, let&#x27;s say that the Posts service defines this association. The first thing we&#x27;ll need is a corresponding argument in the posts query; and while we&#x27;re at it, let&#x27;s also support batching:</p><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-graphql codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token attr-name" style="color:rgb(255, 203, 107)">postPagesByUserIds</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attr-name" style="color:rgb(255, 203, 107)">userIds</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ID</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token attr-name" style="color:rgb(255, 203, 107)">pageNumber</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Int</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Post</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><p>This <code>postPagesByUserIds</code> query is a very primitive example of pagination, and simply returns an array of posts for each user ID. Now we just need to pass the resolver&#x27;s page number argument through to <code>batchDelegateToSchema</code>, and manually specify a <code>returnType</code> that matches the pagination format:</p><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-js codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token maybe-class-name">User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  posts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    selectionSet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">{ id }</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">resolve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">user</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> args</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> context</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">batchDelegateToSchema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> postsSubschema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        operation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;query&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        fieldName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;postPagesByUserIds&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">argsFromKeys</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">userIds</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> userIds</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> pageNumber</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">pageNumber</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        returnType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">GraphQLList</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">GraphQLList</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">postsSubschema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Post&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="via-selectionset"></a>Via selectionSet<a class="hash-link" href="#via-selectionset" title="Direct link to heading">#</a></h3><p>Alternatively, let&#x27;s say that users and posts have a many-to-many relationship and the users service owns the association data. That might give us a <code>User.postIds</code> field to stitch from:</p><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-graphql codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">User.</span><span class="token attr-name" style="color:rgb(255, 203, 107)">postIds</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attr-name" style="color:rgb(255, 203, 107)">pageNumber</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Int</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><p>In this configuration, resolver arguments will need to pass through with the initial <code>selectionSet</code>. The <code>forwardArgsToSelectionSet</code> helper handles this:</p><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-js codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> forwardArgsToSelectionSet </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@graphql-tools/stitch&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  posts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    selectionSet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">forwardArgsToSelectionSet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{ postIds }&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">resolve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">user</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> args</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> context</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">batchDelegateToSchema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> postsSubschema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        operation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;query&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        fieldName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;postsByIds&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">postIds</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">argsFromKeys</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">ids</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> ids </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><p>By default, <code>forwardArgsToSelectionSet</code> will pass through all arguments from the gateway field to <em>all</em> root fields in the selection set. For complex selections that request multiple fields, you may provide an additional mapping of selection names with their respective arguments:</p><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-js codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">forwardArgsToSelectionSet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{ id postIds }&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> postIds</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;pageNumber&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="extending-transformed-schemas"></a>Extending transformed schemas<a class="hash-link" href="#extending-transformed-schemas" title="Direct link to heading">#</a></h2><p><a href="/docs/stitch-combining-schemas#adding-transforms">Transformed schemas</a> are nuanced because they involve two versions of the same schema: the original schema, and the transformed gateway schema. When extending a transformed schema, we extend the gateway schema but delegate to the original schema. For example:</p><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-js codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> makeExecutableSchema </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@graphql-tools/schema&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> addMocksToSchema </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@graphql-tools/mock&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> stitchSchemas </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@graphql-tools/stitch&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> delegateToSchema </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@graphql-tools/delegate&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token maybe-class-name">FilterRootFields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token maybe-class-name">RenameTypes</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@graphql-tools/wrap&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> postSchema </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">makeExecutableSchema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  typeDefs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    type Post {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      id: ID!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      text: String</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      userId: ID!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    type Query {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      postById(id: ID!): Post</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      postsByUserId(userId: ID!): [Post]!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">  </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> postsSubschema </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">addMocksToSchema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> postSchema </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  transforms</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// remove the &quot;postsByUserId&quot; root field</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">FilterRootFields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">op</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> field</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> field </span><span class="token operator" style="color:rgb(137, 221, 255)">!==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;postsByUserId&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// prefix all type names with &quot;Post_&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">RenameTypes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">Post_</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> userSchema </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">makeExecutableSchema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  typeDefs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    type User {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      id: ID!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      email: String</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="display:inline-block;color:rgb(195, 232, 141)">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    type Query {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      userById(id: ID!): User</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">  </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> usersSubschema </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">addMocksToSchema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> userSchema </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> stitchedSchema </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">stitchSchemas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  subschemas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    postsSubschema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    usersSubschema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  typeDefs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    extend type User {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      posts: [Post_Post!]!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    extend type Post_Post {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">      user: User!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token template-string string" style="color:rgb(195, 232, 141)">  </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  resolvers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      posts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        selectionSet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">{ id }</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">resolve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">user</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> args</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> context</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">delegateToSchema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> postsSubschema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            operation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;query&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            fieldName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;postsByUserId&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> userId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">id</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">Post_Post</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        selectionSet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">{ userId }</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">resolve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">post</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> args</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> context</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">delegateToSchema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> usersSubschema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            operation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;query&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            fieldName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;userById&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> post</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">userId</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><p>A few key points to note here:</p><ul><li><p>All schema extensions and their resolvers exist in the gateway schema, and therefore refer to the transformed type name <code>Post_Post</code>.</p></li><li><p>Delegations refer to the original subschema, and therefore may reference fields such as <code>postsByUserId</code> that have been removed from the gateway schema.</p></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/ardatan/graphql-tools/edit/master/website/docs/stitch-schema-extensions.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2Hwv"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/stitch-directives-sdl"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Directives SDL</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/stitch-api"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Stitching API Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_1zTD thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#basic-example" class="table-of-contents__link">Basic example</a><ul><li><a href="#selectionset" class="table-of-contents__link">selectionSet</a></li><li><a href="#resolve" class="table-of-contents__link">resolve</a></li></ul></li><li><a href="#batch-delegation" class="table-of-contents__link">Batch delegation</a></li><li><a href="#passing-gateway-arguments" class="table-of-contents__link">Passing gateway arguments</a><ul><li><a href="#via-delegation" class="table-of-contents__link">Via delegation</a></li><li><a href="#via-selectionset" class="table-of-contents__link">Via selectionSet</a></li></ul></li><li><a href="#extending-transformed-schemas" class="table-of-contents__link">Extending transformed schemas</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="http://bit.ly/guild-chat" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/graphql-tools" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Urigo/graphql-tools/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/TheGuildDev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2020 The Guild, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.487b9085.js"></script>
<script src="/runtime~main.312edae1.js"></script>
<script src="/main.71a0fa8c.js"></script>
<script src="/1.8fb90e8d.js"></script>
<script src="/2.4d97a7a8.js"></script>
<script src="/480.0da5e48e.js"></script>
<script src="/483.615c3160.js"></script>
<script src="/935f2afb.e42a0ee6.js"></script>
<script src="/17896441.0e8a4fd3.js"></script>
<script src="/0b8dc1ff.340c8c7f.js"></script>
</body>
</html>